/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
import { asRuntimeKit } from "@google-labs/breadboard";
import { KitBuilder } from "../kits/builder.js";
import { timestamp } from "../timestamp.js";
export const createSecretAskingKit = (next) => {
    const secretAskingKit = new KitBuilder({
        url: "secret-asking-kit",
    }).build({
        secrets: async (inputs) => {
            const { keys } = inputs;
            if (!keys)
                return {};
            let outputs = {};
            await next({
                type: "secret",
                data: { keys, timestamp: timestamp() },
                reply: async (value) => {
                    outputs = value.inputs;
                },
            });
            return outputs;
        },
    });
    return asRuntimeKit(secretAskingKit);
};
//# sourceMappingURL=secrets.js.map