'use strict';
var __importDefault =
  (this && this.__importDefault) ||
  function (mod) {
    return mod && mod.__esModule ? mod : { default: mod };
  };
Object.defineProperty(exports, '__esModule', { value: true });
exports.getTokenizer = exports.countTokens = void 0;
const lite_1 = require('tiktoken/lite');
const claude_json_1 = __importDefault(require('./claude.json'));
function countTokens(text) {
  const tokenizer = getTokenizer();
  const encoded = tokenizer.encode(text.normalize('NFKC'), 'all');
  tokenizer.free();
  return encoded.length;
}
exports.countTokens = countTokens;
function getTokenizer() {
  return new lite_1.Tiktoken(
    claude_json_1.default.bpe_ranks,
    claude_json_1.default.special_tokens,
    claude_json_1.default.pat_str,
  );
}
exports.getTokenizer = getTokenizer;
//# sourceMappingURL=index.js.map
